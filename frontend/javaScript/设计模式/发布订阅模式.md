订阅者（Subscriber）把自己想订阅的事件注册（Subscribe）到调度中心（Event Channel），当发布者（Publisher）发布该事件（Publish Event）到调度中心，也就是该事件触发时，由调度中心统一调度（Fire Event）订阅者注册到调度中心的处理代码。

```js
class Event {
  constrcuctor() {}

  // 定义一个事件容器，用来装事件数组（因为订阅者可以是多个）
  handlers = {};

  // 事件添加方法，参数有事件名和事件方法
  addEventListener(type, handler) {
    // 判断handlers内有没有type事件，没有则创建一个新的数组容器
    if (!(type in this.handlers)) {
      this.handlers[type] = [];
    }
    // 将事件存入
    this.handlers[type].push(handler);
  }

  // 触发事件，有两个参数，一个是事件名，一个是参数
  dispatchEvent(type, ...params) {
    if (!(type in this.handlers)) {
      return new Error('未注册该事件');
    }
    this.handlers[type].forEach((handler) => {
      handler(...params);
    });
  }
  // 事件移除（事件名，删除事件，若无第二个参数则删除该事件的订阅和发布）
  removeEventListener(type, handler) {
    if (!(type in this.handlers)) {
      return new Error('无效事件');
    }
    if (handler) {
      delete this.handlers[type];
    } else {
      const idx = this.handlers[type].findIndex((ele) => ele === handler);
      if (idx === undefined) {
        return new Error('无该绑定事件');
      }
      // 移除事件
      this.handlers[type].splice(idx, 1);
      if (this.handlers[type].length === 0) {
        delete this.handlers[type];
      }
    }
  }
}
```
